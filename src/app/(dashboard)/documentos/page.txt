// src/app/(dashboard)/documents/page.js
"use client";

import React from 'react';
import Link from 'next/link';
import Header from "@/components/dashboard/Header";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardFooter } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from "@/components/ui/table";
import { Checkbox } from "@/components/ui/checkbox";
import { Badge } from "@/components/ui/badge";
import { Pagination, PaginationContent, PaginationItem, PaginationNext, PaginationPrevious } from "@/components/ui/pagination";
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select";
import { ChevronRight } from 'lucide-react';

const documents = [
  { id: 1, name: "INFORME_MENDOZA1601.pdf", status: "Concluído", folder: "None", created: "12/06/2025", updated: "16/06/2025" },
  { id: 2, name: "INFORME_SUPERI2393.pdf", status: "Concluído", folder: "None", created: "12/06/2025", updated: "16/06/2025" },
];

const breadcrumbsData = [
  { label: "Documentos", href: "/dashboard/documents" },
  { label: "Concluídos" },
];

function Breadcrumbs({ items }) {
  return (
    <div className="flex items-center gap-2 text-xl text-gray-500">
      {items.map((crumb, index) => {
        const isLast = index === items.length - 1;
        return (
          <React.Fragment key={index}>
            {isLast ? (
              <span className="font-semibold text-gray-800">{crumb.label}</span>
            ) : (
              <Link href={crumb.href} className="hover:underline">{crumb.label}</Link>
            )}
            {!isLast && <ChevronRight className="h-5 w-5" />}
          </React.Fragment>
        );
      })}
    </div>
  );
}

export default function DocumentsPage() {
  // Conteúdo para o lado esquerdo do Header
  const headerLeftContent = <Breadcrumbs items={breadcrumbsData} />;

  return (
    <>
      <Header leftContent={headerLeftContent} />
      {/* Note que NÃO passamos a prop 'actionButtonText', então o botão não será renderizado no Header */}

      <div className="flex-1 p-6 space-y-6">
        <div className="flex items-center justify-between">
          <h2 className="text-3xl font-bold text-gray-800">Documentos</h2>
          <Button className="bg-[#1c4ed8] hover:bg-[#1c4ed8]/90 text-white font-semibold rounded-lg">
            Enviar Documento
          </Button>
        </div>

        <Card className="bg-white shadow-sm rounded-xl border">
          <CardContent className="p-0">
            <div className="flex items-center justify-between p-6 border-b">
              <Input placeholder="Email" className="max-w-xs bg-white" />
              <Button variant="ghost" className="text-gray-500 font-semibold hover:text-red-600 hover:bg-red-50">
                Deletar
              </Button>
            </div>
            <Table>
              <TableHeader>
                <TableRow>
                  <TableHead className="w-[50px]"><Checkbox /></TableHead>
                  <TableHead>Documento</TableHead><TableHead>Status</TableHead><TableHead>Pasta</TableHead><TableHead>Criado Em</TableHead><TableHead>Última Atualização</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
                {documents.map((doc) => (
                  <TableRow key={doc.id}>
                    <TableCell><Checkbox /></TableCell>
                    <TableCell className="font-medium text-gray-800">{doc.name}</TableCell>
                    <TableCell><Badge className="text-green-700 border-green-300 bg-green-100 font-medium rounded-full px-2.5 py-0.5">{doc.status}</Badge></TableCell>
                    <TableCell>{doc.folder}</TableCell><TableCell>{doc.created}</TableCell><TableCell>{doc.updated}</TableCell>
                  </TableRow>
                ))}
              </TableBody>
            </Table>
          </CardContent>
          <CardFooter className="flex items-center justify-between p-4 bg-gray-50/50 rounded-b-xl">
            <div className="text-sm text-muted-foreground">Total de {documents.length} registros</div>
            <div className="flex items-center gap-4">
              <div className="flex items-center gap-2">
                <p className="text-sm text-muted-foreground">Filas por página</p>
                <Select defaultValue="10">
                  <SelectTrigger className="w-[80px] bg-white h-9"><SelectValue placeholder="10" /></SelectTrigger>
                  <SelectContent><SelectItem value="10">10</SelectItem><SelectItem value="20">20</SelectItem><SelectItem value="50">50</SelectItem></SelectContent>
                </Select>
              </div>
              <div className="text-sm font-medium">Página 1 de 1</div>
              <Pagination className="mx-0 w-fit"><PaginationContent>
                <PaginationItem><PaginationPrevious href="#" /></PaginationItem>
                <PaginationItem><PaginationNext href="#" /></PaginationItem>
              </PaginationContent></Pagination>
            </div>
          </CardFooter>
        </Card>
      </div>
    </>
  );
}